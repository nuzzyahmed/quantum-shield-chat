<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Quantum-Safe Chat</title>
  <link rel="stylesheet" href="/static/styles.css" />
  <script src="/static/oqs.js"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body>
  <div class="app-container">
    <!-- Topbar -->
    <div class="topbar">
      <div class="topbar-left">
        <div class="app-logo">
          <div class="logo-animation">
            <i class="fas fa-lock"></i>
          </div>
          <div class="app-name">Quantum-Safe Chat</div>
        </div>
      </div>
      <div class="topbar-right">
        <div class="user-display" id="current-username"></div>
      </div>
    </div>

    <!-- Main content area -->
    <div class="content-container">
      <div class="sidebar">
        <div class="sidebar-header">
          <div class="search-container">
            <i class="fas fa-search search-icon"></i>
            <input type="text" id="user-search" placeholder="Search users..." />
          </div>
        </div>
        
        <!-- Search results section (only visible when searching ) -->
        <div id="search-results-container" style="display: none;">
          <div class="section-header">Search Results</div>
          <div class="user-list" id="search-results-list">
            <!-- Search results populated dynamically -->
          </div>
        </div>
        
        <!-- Container for both user lists -->
        <div class="user-lists-container">
          <!-- Online users section -->
          <div class="section-header">Online Users</div>
          <div class="user-list" id="user-list">
            <!-- Online users populated dynamically -->
          </div>
          
          <!-- Offline users section - no gap between this and online users -->
          <div class="section-header">Offline Users</div>
          <div class="user-list" id="offline-list">
            <!-- Offline users populated dynamically -->
          </div>
        </div>
        
        <!-- Logout button at bottom of sidebar -->
        <div class="sidebar-footer">
          <button id="logout-button" class="logout-button">
            <i class="fas fa-sign-out-alt"></i> Logout
          </button>
        </div>
      </div>
      
      <div class="main">
        <!-- Chat placeholder (shown when no user is selected) -->
        <div id="chat-placeholder" class="chat-placeholder">
          <div class="chat-placeholder-content">
            <div class="chat-placeholder-icon">
              <i class="fas fa-comments"></i>
            </div>
            <h2>Welcome to Quantum-Safe Chat</h2>
            <p>Select a user to start chatting securely.</p>
          </div>
        </div>
        
        <!-- Chat interface (shown when a user is selected) -->
        <div id="chat-interface" style="display: none;">
          <div class="chat-header">
            <div class="chat-header-user">
              <div id="selected-user-avatar" class="avatar">
                <!-- Will be populated with initials -->
              </div>
              <div class="chat-header-info">
                <div id="chat-title" class="chat-header-name"></div>
                <div id="chat-status" class="chat-header-status">Offline</div>
              </div>
            </div>
          </div>
          
          <div class="chat-messages" id="chat-messages">
            <!-- Messages populated dynamically -->
          </div>
          
          <div class="chat-input-container">
            <div class="chat-input-wrapper">
              <input type="text" id="message-input" placeholder="Type a message..." disabled />
              <!-- Attachment preview will be inserted here dynamically -->
            </div>
            <button id="attachment-button" class="attachment-button" disabled>
              <i class="fas fa-paperclip"></i>
            </button>
            <button id="send-button" disabled>
              <i class="fas fa-paper-plane"></i>
            </button>
            <input type="file" id="file-input" style="display: none;" />
          </div>
        </div>
      </div>
    </div>
  </div>
  
  <script src="/static/chat.js"></script>
</body>
</html>